
server.port=${PORT:8080}

ai.api.url=${AI_API_URL:}
ai.api.key=${AI_API_KEY:}

# 디버그 로그 (AI 어댑터)
logging.level.com.jrm.app.service.AiAdapter=DEBUG

# Database 
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:file:./data/jrmdb_v2;DB_CLOSE_DELAY=-1;AUTO_SERVER=TRUE}
spring.datasource.driverClassName=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.h2.console.enabled=${SPRING_H2_CONSOLE_ENABLED:true}

# Request size guard (Tomcat)
server.tomcat.max-http-form-post-size=${SERVER_TOMCAT_MAX_HTTP_FORM_POST_SIZE:2097152}
server.tomcat.max-swallow-size=${SERVER_TOMCAT_MAX_SWALLOW_SIZE:2097152}
spring.servlet.multipart.max-file-size=${SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE:5MB}
spring.servlet.multipart.max-request-size=${SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE:5MB}

# Global request size guard (bytes) to avoid OOM on large JSON bodies
app.max-request-size-bytes=${APP_MAX_REQUEST_SIZE_BYTES:2097152}

# Mail (set real SMTP to enable email sending)
spring.mail.host=${MAIL_HOST:}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS:true}
